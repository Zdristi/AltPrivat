# Инструкция по развертыванию Telegram-бота на PythonAnywhere

## Подготовка файлов

Для развертывания бота на PythonAnywhere подготовлены следующие файлы:

1. `crypto_subscription_bot.py` - основной файл с логикой бота
2. `config.py` - файл конфигурации с настройками бота
3. `wsgi.py` - файл для запуска веб-приложения через вебхук
4. `launcher.py` - дополнительный файл запуска
5. `requirements.txt` - зависимости проекта
6. `README_PYTHONANYWHERE.md` - расширенная инструкция по настройке

## Шаги по развертыванию

1. **Регистрация на PythonAnywhere**
   - Зайдите на https://www.pythonanywhere.com
   - Создайте бесплатный аккаунт

2. **Загрузка файлов**
   - В панели управления перейдите в раздел Files (Файлы)
   - Создайте новую папку, например, 'mysite'
   - Загрузите все подготовленные файлы в эту папку

3. **Установка зависимостей**
   - Перейдите в раздел Consoles (Консоли) и запустите Bash-консоль
   - Выполните команду: `pip3.12 install -r mysite/requirements.txt`

4. **Настройка переменных окружения**
   - Добавьте в файл .bashrc переменные:
     - `BOT_TOKEN` - токен вашего Telegram бота
     - `CHANNEL_ID` - ID канала, к которому даете доступ
     - `ADMIN_USER_ID` - ваш ID пользователя в Telegram
     - `SUBSCRIPTION_NAME`, `SUBSCRIPTION_DAYS`, `SUBSCRIPTION_PRICE` - настройки подписки

5. **Настройка веб-приложения**
   - Перейдите в раздел Web (Веб)
   - Нажмите "Add a new web app"
   - Выберите "Manual configuration" и Python 3.12
   - В настройках приложения укажите путь к вашей папке
   - Перезапустите приложение

6. **Проверка работы**
   - Отправьте команду /start вашему боту в Telegram
   - Убедитесь, что все функции работают корректно

## Особенности реализации

- Бот использует систему тарифов с разными ценами и содержанием
- Реализована система рефералов с подсчетом приглашенных пользователей
- Поддержка разных способов оплаты: карты, Telegram Stars, Crypto Bot
- Ведется статистика пользователей и подписок
- База данных SQLite для хранения информации о пользователях и подписках

## Возможные проблемы и решения

- Если вебхук не работает, можно запустить бота в режиме long polling через раздел Tasks
- Убедитесь, что все переменные окружения установлены корректно
- Проверьте, что токен бота указан правильно и бот добавлен в канал как администратор